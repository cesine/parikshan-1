
\subsection{Divergence Checking}
\label{sec:parikshanDivergenceChecking}

In \parikshan it is possible that non-deterministic behavior (discussed in Section~\ref{sec:threats}) in the two containers or user instrumentation, causes the production and debug container to diverge with time.
To understand and capture this divergence, we compare the corresponding network output received in the proxy.
This is an optional component, which gives us a black-box mechanism to check the fidelity of the replica based on its communication with external components.
In our current prototype, we use a hash on each data packet, which is collected and stored in memory for the duration that each packet's connection is active.
The degree of acceptable divergence is dependent on the application behavior, and the operator's wishes. 
For example, an application that includes timestamps in each of its messages (i.e. is expected to have some non-determinism) could perhaps be expected to have a much higher degree of acceptable divergence than an application that should normally be returning deterministic results.
